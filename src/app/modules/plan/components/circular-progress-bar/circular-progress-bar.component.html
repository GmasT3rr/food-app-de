<!-- circular-progress-bar.component.html -->

<svg
  viewBox="0 0 100 100"
  [ngClass]="{ isForDailyCalories: isForDailyCalories }"
>
  <circle class="circle" cx="50" cy="50" r="45"></circle>
  <circle
    class="circle-fill"
    [ngClass]="circleClass"
    cx="50"
    cy="50"
    r="45"
    [attr.stroke-dasharray]="circumference"
    [attr.stroke-dashoffset]="circumference - progress"
    transform="rotate(-90 50 50)"
  ></circle>

  <ng-container *ngIf="!isForDailyCalories">
    <text class="day-number" x="50" y="50" text-anchor="middle" dy="10">
      {{ day | date : "dd" }}
    </text>
  </ng-container>
  <ng-container *ngIf="isForDailyCalories">
    <text
      class="day-number"
      x="50"
      y="50"
      text-anchor="middle"
    >
      <tspan x="50" dy="-8" style="font-size: 0.75rem">
        {{ caloriesConsumed }}
      </tspan>
      <tspan style="font-size: 0.75rem">/</tspan>
      <tspan x="50" dy="15" style="font-size: 0.75rem">{{ calorieGoal }}</tspan>
      <tspan x="50" dy="12" style="font-size: 0.45rem">kcal</tspan>
    </text>
  </ng-container>
</svg>
